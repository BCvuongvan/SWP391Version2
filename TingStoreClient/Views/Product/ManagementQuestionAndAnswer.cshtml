@model Product
@{
    ViewData["Title"] = "ManagementQuestionAndAnswer";
    Layout = "/Views/Shared/_ManagementProduct.cshtml";
}

<nav class="navbar navbar-expand bg-light navbar-light sticky-top px-4 py-0">
    <div class="navbar-nav align-items-center ms-auto">
        <div class="nav-item">
            <a class="nav-link" style="margin-right: 20px;" asp-controller="Product" asp-action="ListProduct">
                <i class="fa fa-sign-out-alt"></i>
                <span class="d-none d-lg-inline-flex">Back</span>
            </a>
        </div>
    </div>
</nav>
<div>
    <h3 style="margin-top:20px; text-align: center;"><strong>LIST QUESTION AND ANSWER</strong></h3>
    <div style="text-align: center;">
        <a asp-controller="Product" asp-action="CreateQuestionAndAnswer" asp-route-id="@Model.proId" class="fancy-button" style="text-decoration: none;">Add new question and answer</a>
    </div> </br>
</div>
<div id="qa-section">
    @{
        if (ViewBag.QuestionAndAnswer != null)
        {
            var qas = ViewBag.QuestionAndAnswer.ToString().Split(new string[] { "\r\n\r\n", "\n\n" }, StringSplitOptions.RemoveEmptyEntries);
            int qNum = 1;
            foreach (var qa in qas)
            {
                var parts = qa.Split(new string[] { "\r\n", "\n" }, StringSplitOptions.RemoveEmptyEntries);
                if (parts.Length >= 2)
                {
                    <div class="question" onclick="toggleAnswer('answer@(qNum)')">@(parts[0].Replace("Q: ", ""))</div>
                    <div class="answer" id="answer@(qNum)" style="display:none;">@(parts[1].Replace("A: ", ""))</div>
                }
                qNum++;
            }
        }
    }
</div>
<div style="text-align: center; margin-top: 20px;">
    <a asp-controller="Product" asp-action="UpdateQuestionAndAnswer" asp-route-id="@Model.proId" class="fancy-button" style="text-decoration: none;">Edit</a>
</div>
